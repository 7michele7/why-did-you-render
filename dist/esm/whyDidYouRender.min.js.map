{"version":3,"file":"whyDidYouRender.min.js.map","sources":["../../src/consts.js","../../src/defaultNotifier.js","../../src/normalizeOptions.js","../../src/getDisplayName.js","../../src/calculateDeepEqualDiffs.js","../../src/findObjectsDifferences.js","../../src/getUpdateInfo.js","../../src/whyDidYouRender.js","../../src/shouldTrack.js"],"sourcesContent":["export const diffTypes = {\r\n  'different': 'different',\r\n  'deepEquals': 'deepEquals',\r\n  'date': 'date',\r\n  'regex': 'regex',\r\n  'reactElement': 'reactElement',\r\n  'function': 'function'\r\n}\r\n","import {diffTypes} from './consts'\r\n\r\nconst moreInfoUrl = 'http://bit.ly/wdyr02'\r\n\r\nconst diffTypesDescriptions = {\r\n  [diffTypes.different]: 'different objects.',\r\n  [diffTypes.deepEquals]: 'different objects that are equal by value.',\r\n  [diffTypes.date]: 'different date objects with the same value.',\r\n  [diffTypes.regex]: 'different regular expressions with the same value.',\r\n  [diffTypes.reactElement]: 'different React elements with the same displayName.',\r\n  [diffTypes.function]: 'different functions with the same name.'\r\n}\r\n\r\nlet inHotReload = false\r\n\r\nfunction shouldLog(reason, Component, options){\r\n  if(inHotReload){\r\n    return false\r\n  }\r\n\r\n  if(options.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  if(Component.whyDidYouRender && Component.whyDidYouRender.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  const hasDifferentValues = ((\r\n    reason.propsDifferences &&\r\n    reason.propsDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.stateDifferences &&\r\n    reason.stateDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ))\r\n\r\n  return !hasDifferentValues\r\n}\r\n\r\nfunction logDifference(Component, displayName, prefixMessage, propsOrSate, differences, values, options){\r\n  if(differences && differences.length > 0){\r\n    options.consoleLog({[displayName]: Component}, `${prefixMessage} of ${propsOrSate} changes:`)\r\n    differences.forEach(({pathString, diffType, prevValue, nextValue}) => {\r\n      options.consoleGroup(`%c${propsOrSate}.%c${pathString}%c`, 'color:blue;', 'color:red;', 'color:black;')\r\n      options.consoleLog(`${diffTypesDescriptions[diffType]} (more info at ${moreInfoUrl})`)\r\n      options.consoleLog({[`prev ${pathString}`]: prevValue}, '!==', {[`next ${pathString}`]: nextValue})\r\n      options.consoleGroupEnd()\r\n    })\r\n  }\r\n  else if(differences){\r\n    options.consoleLog(\r\n      {[displayName]: Component},\r\n      `${prefixMessage} the ${propsOrSate} object itself changed but it's values are all equal.`,\r\n      propsOrSate === 'props' ?\r\n        'This could of been avoided by making the component pure, or by preventing it\\'s father from re-rendering.' :\r\n        'This usually means this component called setState when no changes in it\\'s state actually occurred.',\r\n      `more info at ${moreInfoUrl}`\r\n    )\r\n    options.consoleLog(`prev ${propsOrSate}:`, values.prev, ' !== ', values.next, `:next ${propsOrSate}`)\r\n  }\r\n}\r\n\r\nexport default function defaultNotifier(updateInfo){\r\n  const{Component, displayName, prevProps, prevState, nextProps, nextState, reason, options} = updateInfo\r\n\r\n  if(!shouldLog(reason, Component, options)){\r\n    return\r\n  }\r\n\r\n  options.consoleGroup(`%c${displayName}`, 'color: #058;')\r\n\r\n  let prefixMessage = 'Re-rendered because'\r\n\r\n  if(reason.propsDifferences){\r\n    logDifference(Component, displayName, prefixMessage, 'props', reason.propsDifferences, {prev: prevProps, next: nextProps}, options)\r\n    prefixMessage = 'And because'\r\n  }\r\n\r\n  if(reason.stateDifferences){\r\n    logDifference(Component, displayName, prefixMessage, 'state', reason.stateDifferences, {prev: prevState, next: nextState}, options)\r\n  }\r\n\r\n  if(!reason.propsDifferences && !reason.stateDifferences){\r\n    options.consoleLog(\r\n      {[displayName]: Component},\r\n      'Re-rendered although props and state objects are the same.',\r\n      'This usually means there was a call to this.forceUpdate() inside the component.',\r\n      `more info at ${moreInfoUrl}`\r\n    )\r\n  }\r\n\r\n  options.consoleGroupEnd()\r\n}\r\n\r\nexport function createDefaultNotifier(hotReloadBufferMs){\r\n  if(hotReloadBufferMs){\r\n    if(module && module.hot && module.hot.addStatusHandler){\r\n      module.hot.addStatusHandler(status => {\r\n        if(status === 'idle'){\r\n          inHotReload = true\r\n          setTimeout(() => {\r\n            inHotReload = false\r\n          }, hotReloadBufferMs)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return defaultNotifier\r\n}\r\n","/* eslint-disable no-console */\r\nimport {createDefaultNotifier} from './defaultNotifier'\r\n\r\nconst emptyFn = () => {}\r\n\r\nexport default function normalizeOptions(userOptions = {}){\r\n  let consoleGroup = console.group\r\n  let consoleGroupEnd = console.groupEnd\r\n\r\n  if(userOptions.collapseGroups){\r\n    consoleGroup = console.groupCollapsed\r\n  }\r\n  else if(userOptions.onlyLogs){\r\n    consoleGroup = console.log\r\n    consoleGroupEnd = emptyFn\r\n  }\r\n\r\n  const notifier = userOptions.notifier || (\r\n    createDefaultNotifier(\r\n      userOptions.hasOwnProperty('hotReloadBufferMs') ?\r\n        userOptions.hotReloadBufferMs : 500\r\n    )\r\n  )\r\n\r\n  return {\r\n    include: null,\r\n    exclude: null,\r\n    notifier,\r\n    onlyLogs: false,\r\n    consoleLog: console.log,\r\n    consoleGroup,\r\n    consoleGroupEnd,\r\n    logOnDifferentValues: false,\r\n    ...userOptions\r\n  }\r\n}\r\n","import {isString} from 'lodash'\r\n\r\nexport default function getDisplayName(type){\r\n  return type.displayName || type.name || (isString(type) ? type : undefined)\r\n}\r\n","import {isArray, isPlainObject, isDate, isRegExp, isFunction, keys as getKeys, has} from 'lodash'\r\nimport {diffTypes} from './consts'\r\n\r\nconst hasElementType = typeof Element !== 'undefined'\r\n\r\n// copied from https://github.com/facebook/react/packages/shared/ReactSymbols.js\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for\r\nconst REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7\r\nconst isReactElement = object => object.$$typeof === REACT_ELEMENT_TYPE\r\n// end\r\n\r\nfunction trackDiff(a, b, diffsAccumulator, pathString, diffType){\r\n  diffsAccumulator.push({\r\n    diffType,\r\n    pathString,\r\n    prevValue: a,\r\n    nextValue: b\r\n  })\r\n  return diffType !== diffTypes.different\r\n}\r\n\r\nfunction accumulateDeepEqualDiffs(a, b, diffsAccumulator, pathString = ''){\r\n  if(a === b){\r\n    return true\r\n  }\r\n\r\n  if(!a || !b){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isArray(a) && isArray(b)){\r\n    const length = a.length\r\n    if(length !== b.length){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    let allChildrenDeepEqual = true\r\n    for(let i = length; i-- !== 0;){\r\n      if(!accumulateDeepEqualDiffs(a[i], b[i], diffsAccumulator, `${pathString}[${i}]`)){\r\n        allChildrenDeepEqual = false\r\n      }\r\n    }\r\n\r\n    return allChildrenDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.deepEquals) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isDate(a) && isDate(b)){\r\n    return a.getTime() === b.getTime() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.date) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isRegExp(a) && isRegExp(b)){\r\n    return a.toString() === b.toString() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.regex) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(hasElementType && a instanceof Element && b instanceof Element){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isReactElement(a) && isReactElement(b)){\r\n    return a.type === b.type ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.reactElement) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isFunction(a) && isFunction(b)){\r\n    return a.name === b.name ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.function) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isPlainObject(a) && isPlainObject(b)){\r\n    const keys = getKeys(a)\r\n    const length = keys.length\r\n    if(length !== getKeys(b).length){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    for(let i = length; i-- !== 0;){\r\n      if(!has(b, keys[i])){\r\n        return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n      }\r\n    }\r\n\r\n    let allChildrenDeepEqual = true\r\n    for(let i = length; i-- !== 0;){\r\n      const key = keys[i]\r\n      if(!accumulateDeepEqualDiffs(a[key], b[key], diffsAccumulator, `${pathString}.${key}`)){\r\n        allChildrenDeepEqual = false\r\n      }\r\n    }\r\n\r\n    return allChildrenDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.deepEquals) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n}\r\n\r\nexport default function calculateDeepEqualDiffs(a, b, initialPathString){\r\n  try{\r\n    const diffs = []\r\n    accumulateDeepEqualDiffs(a, b, diffs, initialPathString)\r\n    return diffs\r\n  }catch(error){\r\n    if((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)){\r\n      // warn on circular references, don't crash.\r\n      // browsers throw different errors name and messages:\r\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\r\n      // firefox: \"InternalError\", too much recursion\"\r\n      // edge: \"Error\", \"Out of stack space\"\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Warning: why-did-you-render couldn\\'t handle circular references in props.', error.name, error.message)\r\n      return false\r\n    }\r\n    throw error\r\n  }\r\n}\r\n","import {keys, reduce} from 'lodash'\r\nimport calculateDeepEqualDiffs from './calculateDeepEqualDiffs'\r\n\r\nconst emptyObject = {}\r\n\r\nexport default function findObjectsDifferences(userPrevObj, userNextObj){\r\n  if(userPrevObj === userNextObj){\r\n    return false\r\n  }\r\n\r\n  const prevObj = userPrevObj || emptyObject\r\n  const nextObj = userNextObj || emptyObject\r\n\r\n  const keysOfBothObjects = keys({...prevObj, ...nextObj})\r\n\r\n  return reduce(keysOfBothObjects, (result, key) => {\r\n    const deepEqualDiffs = calculateDeepEqualDiffs(prevObj[key], nextObj[key], key)\r\n    if(deepEqualDiffs){\r\n      result = [\r\n        ...(result || []),\r\n        ...deepEqualDiffs\r\n      ]\r\n    }\r\n    return result\r\n  }, [])\r\n}\r\n","import findObjectsDifferences from './findObjectsDifferences'\r\n\r\nfunction getUpdateReason(prevProps, prevState, nextProps, nextState){\r\n  return {\r\n    propsDifferences: findObjectsDifferences(prevProps, nextProps, 'props'),\r\n    stateDifferences: findObjectsDifferences(prevState, nextState, 'state')\r\n  }\r\n}\r\n\r\nexport default function getUpdateInfo({Component, displayName, prevProps, prevState, nextProps, nextState, options}){\r\n  return {\r\n    Component,\r\n    displayName,\r\n    prevProps,\r\n    prevState,\r\n    nextProps,\r\n    nextState,\r\n    options,\r\n    reason: getUpdateReason(prevProps, prevState, nextProps, nextState)\r\n  }\r\n}\r\n","import normalizeOptions from './normalizeOptions'\r\nimport getDisplayName from './getDisplayName'\r\nimport getUpdateInfo from './getUpdateInfo'\r\nimport shouldTrack from './shouldTrack'\r\n\r\nfunction patchClassComponent(ClassComponent, displayName, React, options){\r\n  class WDYRPatchedClassComponent extends ClassComponent{\r\n    constructor(props, context){\r\n      super(props, context)\r\n      const renderIsAnArrowFunction = this.render && !ClassComponent.prototype.render\r\n      if(renderIsAnArrowFunction){\r\n        const origRender = this.render\r\n        this.render = () => {\r\n          WDYRPatchedClassComponent.prototype.render.apply(this)\r\n          return origRender()\r\n        }\r\n      }\r\n    }\r\n    render(){\r\n      if(this._prevProps){\r\n        options.notifier(getUpdateInfo({\r\n          Component: ClassComponent,\r\n          displayName,\r\n          prevProps: this._prevProps,\r\n          prevState: this._prevState,\r\n          nextProps: this.props,\r\n          nextState: this.state,\r\n          options\r\n        }))\r\n      }\r\n\r\n      this._prevProps = this.props\r\n      this._prevState = this.state\r\n\r\n      return super.render && super.render()\r\n    }\r\n  }\r\n\r\n  Object.assign(WDYRPatchedClassComponent, ClassComponent, {displayName})\r\n\r\n  return WDYRPatchedClassComponent\r\n}\r\n\r\nfunction patchFunctionalComponent(FunctionalComponent, displayName, React, options){\r\n  let _prevProps = undefined\r\n\r\n  function WDYRFunctionalComponent(props){\r\n    if(_prevProps){\r\n      options.notifier(getUpdateInfo({\r\n        Component: FunctionalComponent,\r\n        displayName,\r\n        prevProps: _prevProps,\r\n        nextProps: props,\r\n        options\r\n      }))\r\n    }\r\n\r\n    _prevProps = props\r\n\r\n    return FunctionalComponent(props)\r\n  }\r\n\r\n  Object.assign(WDYRFunctionalComponent, FunctionalComponent, {displayName})\r\n\r\n  return WDYRFunctionalComponent\r\n}\r\n\r\nfunction createPatchedComponent(componentsMap, Component, displayName, React, options){\r\n  if(Component.prototype && Component.prototype.isReactComponent){\r\n    return patchClassComponent(Component, displayName, React, options)\r\n  }\r\n\r\n  return patchFunctionalComponent(Component, displayName, React, options)\r\n}\r\n\r\nfunction getPatchedComponent(componentsMap, Component, displayName, React, options){\r\n  if(componentsMap.has(Component)){\r\n    return componentsMap.get(Component)\r\n  }\r\n\r\n  const WDYRPatchedComponent = createPatchedComponent(componentsMap, Component, displayName, React, options)\r\n\r\n  componentsMap.set(Component, WDYRPatchedComponent)\r\n  return WDYRPatchedComponent\r\n}\r\n\r\nexport default function whyDidYouRender(React, userOptions){\r\n  const options = normalizeOptions(userOptions)\r\n\r\n  const origCreateElement = React.createElement\r\n  const origCreateFactory = React.createFactory\r\n\r\n  let componentsMap = new WeakMap()\r\n\r\n  React.createElement = function(componentNameOrComponent, ...rest){\r\n    const isShouldTrack = (\r\n      typeof componentNameOrComponent === 'function' &&\r\n      shouldTrack(componentNameOrComponent, getDisplayName(componentNameOrComponent), options)\r\n    )\r\n\r\n    if(!isShouldTrack){\r\n      return origCreateElement.apply(React, [componentNameOrComponent, ...rest])\r\n    }\r\n\r\n    const displayName = (\r\n      componentNameOrComponent &&\r\n      componentNameOrComponent.whyDidYouRender &&\r\n      componentNameOrComponent.whyDidYouRender.customName ||\r\n      getDisplayName(componentNameOrComponent)\r\n    )\r\n\r\n    const WDYRPatchedComponent = getPatchedComponent(componentsMap, componentNameOrComponent, displayName, React, options)\r\n    return origCreateElement.apply(React, [WDYRPatchedComponent, ...rest])\r\n  }\r\n\r\n  Object.assign(React.createElement, origCreateElement)\r\n\r\n  React.createFactory = type => {\r\n    const factory = React.createElement.bind(null, type)\r\n    factory.type = type\r\n    return factory\r\n  }\r\n\r\n  Object.assign(React.createFactory, origCreateFactory)\r\n\r\n  React.__REVERT_WHY_DID_YOU_RENDER__ = () => {\r\n    React.createElement = origCreateElement\r\n    React.createFactory = origCreateFactory\r\n    componentsMap = null\r\n    delete React.__REVERT_WHY_DID_YOU_RENDER__\r\n  }\r\n\r\n  return React\r\n}\r\n","function shouldInclude(displayName, options){\r\n  return (\r\n    options.include &&\r\n    options.include.length > 0 &&\r\n    options.include.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nfunction shouldExclude(displayName, options){\r\n  return (\r\n    options.exclude &&\r\n    options.exclude.length > 0 &&\r\n    options.exclude.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nexport default function shouldTrack(Component, displayName, options){\r\n  if(shouldExclude(displayName, options)){\r\n    return false\r\n  }\r\n\r\n  return !!(\r\n    Component.whyDidYouRender ||\r\n    shouldInclude(displayName, options)\r\n  )\r\n}\r\n"],"names":["diffTypes","moreInfoUrl","diffTypesDescriptions","different","deepEquals","date","regex","reactElement","function","inHotReload","logDifference","Component","displayName","prefixMessage","propsOrSate","differences","values","options","length","consoleLog","forEach","pathString","diffType","prevValue","nextValue","consoleGroup","consoleGroupEnd","prev","next","defaultNotifier","updateInfo","prevProps","prevState","nextProps","nextState","reason","logOnDifferentValues","whyDidYouRender","propsDifferences","some","diff","stateDifferences","shouldLog","emptyFn","normalizeOptions","hotReloadBufferMs","userOptions","console","group","groupEnd","collapseGroups","groupCollapsed","onlyLogs","log","include","exclude","notifier","hasOwnProperty","module","hot","addStatusHandler","status","setTimeout","getDisplayName","type","name","_isString","undefined","hasElementType","Element","REACT_ELEMENT_TYPE","Symbol","for","isReactElement","object","$$typeof","trackDiff","a","b","diffsAccumulator","push","calculateDeepEqualDiffs","initialPathString","diffs","accumulateDeepEqualDiffs","_isArray","allChildrenDeepEqual","i","_isDate","getTime","_isRegExp","toString","_isFunction","_isPlainObject","keys","_keys","_has","key","error","message","match","number","warn","emptyObject","findObjectsDifferences","userPrevObj","userNextObj","prevObj","nextObj","keysOfBothObjects","_reduce","result","deepEqualDiffs","getUpdateReason","getUpdateInfo","patchClassComponent","ClassComponent","React","WDYRPatchedClassComponent","props","context","render","prototype","origRender","_this","apply","this","_prevProps","_prevState","state","_get","Object","assign","createPatchedComponent","componentsMap","isReactComponent","FunctionalComponent","WDYRFunctionalComponent","patchFunctionalComponent","origCreateElement","createElement","origCreateFactory","createFactory","WeakMap","componentNameOrComponent","isShouldTrack","test","shouldExclude","shouldInclude","shouldTrack","rest","customName","WDYRPatchedComponent","has","get","set","getPatchedComponent","factory","bind","__REVERT_WHY_DID_YOU_RENDER__"],"mappings":"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"}