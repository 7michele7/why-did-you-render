{"version":3,"file":"whyDidYouRender.min.js.map","sources":["../../src/consts.js","../../src/defaultNotifier.js","../../src/normalizeOptions.js","../../src/getDisplayName.js","../../src/calculateDeepEqualDiffs.js","../../src/findObjectsDifferences.js","../../src/getUpdateInfo.js","../../src/utils.js","../../src/shouldTrack.js","../../src/patches/patchClassComponent.js","../../src/patches/patchFunctionalOrStrComponent.js","../../src/whyDidYouRender.js","../../src/patches/patchMemoComponent.js","../../src/patches/patchForwardRefComponent.js","../../src/index.js"],"sourcesContent":["export const diffTypes = {\r\n  'different': 'different',\r\n  'deepEquals': 'deepEquals',\r\n  'date': 'date',\r\n  'regex': 'regex',\r\n  'reactElement': 'reactElement',\r\n  'function': 'function'\r\n}\r\n\r\n// copied from packages/shared/ReactSymbols.js in https://github.com/facebook/react\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for\r\nexport const REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3\r\nexport const REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0\r\n","import {diffTypes} from './consts'\r\n\r\nconst moreInfoUrl = 'http://bit.ly/wdyr02'\r\nconst moreInfoHooksUrl = 'http://bit.ly/wdyr3'\r\n\r\nconst diffTypesDescriptions = {\r\n  [diffTypes.different]: 'different objects.',\r\n  [diffTypes.deepEquals]: 'different objects that are equal by value.',\r\n  [diffTypes.date]: 'different date objects with the same value.',\r\n  [diffTypes.regex]: 'different regular expressions with the same value.',\r\n  [diffTypes.reactElement]: 'different React elements with the same displayName.',\r\n  [diffTypes.function]: 'different functions with the same name.'\r\n}\r\n\r\nlet inHotReload = false\r\n\r\nfunction shouldLog(reason, Component, options){\r\n  if(inHotReload){\r\n    return false\r\n  }\r\n\r\n  if(options.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  if(Component.whyDidYouRender && Component.whyDidYouRender.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  const hasDifferentValues = ((\r\n    reason.propsDifferences &&\r\n    reason.propsDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.stateDifferences &&\r\n    reason.stateDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.hookDifferences &&\r\n    reason.hookDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ))\r\n\r\n  return !hasDifferentValues\r\n}\r\n\r\nfunction logDifference({Component, displayName, hookName, prefixMessage, diffObjType, differences, values, options}){\r\n  if(differences && differences.length > 0){\r\n    options.consoleLog({[displayName]: Component}, `${prefixMessage} of ${diffObjType} changes:`)\r\n    differences.forEach(({pathString, diffType, prevValue, nextValue}) => {\r\n      options.consoleGroup(\r\n        `%c${diffObjType === 'hook' ? `[hook ${hookName} result]` : `${diffObjType}.`}%c${pathString}%c`,\r\n        `color:${options.diffNameColor};`, `color:${options.diffPathColor};`, 'color:default;'\r\n      )\r\n      options.consoleLog(\r\n        `${diffTypesDescriptions[diffType]} (more info at ${hookName ? moreInfoHooksUrl : moreInfoUrl})`,\r\n      )\r\n      options.consoleLog({[`prev ${pathString}`]: prevValue}, '!==', {[`next ${pathString}`]: nextValue})\r\n      options.consoleGroupEnd()\r\n    })\r\n  }\r\n  else if(differences){\r\n    options.consoleLog(\r\n      {[displayName]: Component},\r\n      `${prefixMessage} the ${diffObjType} object itself changed but its values are all equal.`,\r\n      diffObjType === 'props' ?\r\n        'This could have been avoided by making the component pure, or by preventing its father from re-rendering.' :\r\n        'This usually means this component called setState when no changes in its state actually occurred.',\r\n      `More info at ${moreInfoUrl}`\r\n    )\r\n    options.consoleLog(`prev ${diffObjType}:`, values.prev, ' !== ', values.next, `:next ${diffObjType}`)\r\n  }\r\n}\r\n\r\nexport default function defaultNotifier(updateInfo){\r\n  const {Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook, reason, options} = updateInfo\r\n\r\n  if(!shouldLog(reason, Component, options)){\r\n    return\r\n  }\r\n\r\n  options.consoleGroup(`%c${displayName}`, `color: ${options.titleColor};`)\r\n\r\n  let prefixMessage = 'Re-rendered because'\r\n\r\n  if(reason.propsDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'props',\r\n      differences: reason.propsDifferences,\r\n      values: {prev: prevProps, next: nextProps},\r\n      options\r\n    })\r\n    prefixMessage = 'And because'\r\n  }\r\n\r\n  if(reason.stateDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'state',\r\n      differences: reason.stateDifferences,\r\n      values: {prev: prevState, next: nextState},\r\n      options\r\n    })\r\n  }\r\n\r\n  if(reason.hookDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'hook',\r\n      differences: reason.hookDifferences,\r\n      values: {prev: prevHook, next: nextHook},\r\n      hookName,\r\n      options\r\n    })\r\n  }\r\n\r\n  if(!reason.propsDifferences && !reason.stateDifferences && !reason.hookDifferences){\r\n    options.consoleLog(\r\n      {[displayName]: Component},\r\n      'Re-rendered although props and state objects are the same.',\r\n      'This usually means there was a call to this.forceUpdate() inside the component.',\r\n      `more info at ${moreInfoUrl}`\r\n    )\r\n  }\r\n\r\n  options.consoleGroupEnd()\r\n}\r\n\r\nexport function createDefaultNotifier(hotReloadBufferMs){\r\n  if(hotReloadBufferMs){\r\n    if(typeof(module) !== 'undefined' && module.hot && module.hot.addStatusHandler){\r\n      module.hot.addStatusHandler(status => {\r\n        if(status === 'idle'){\r\n          inHotReload = true\r\n          setTimeout(() => {\r\n            inHotReload = false\r\n          }, hotReloadBufferMs)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return defaultNotifier\r\n}\r\n","/* eslint-disable no-console */\r\nimport {createDefaultNotifier} from './defaultNotifier'\r\n\r\nconst emptyFn = () => {}\r\n\r\nexport default function normalizeOptions(userOptions = {}){\r\n  let consoleGroup = console.group\r\n  let consoleGroupEnd = console.groupEnd\r\n\r\n  if(userOptions.collapseGroups){\r\n    consoleGroup = console.groupCollapsed\r\n  }\r\n  else if(userOptions.onlyLogs){\r\n    consoleGroup = console.log\r\n    consoleGroupEnd = emptyFn\r\n  }\r\n\r\n  const notifier = userOptions.notifier || (\r\n    createDefaultNotifier(\r\n      ('hotReloadBufferMs' in userOptions) ? userOptions.hotReloadBufferMs : 500\r\n    )\r\n  )\r\n\r\n  return {\r\n    include: null,\r\n    exclude: null,\r\n    notifier,\r\n    onlyLogs: false,\r\n    consoleLog: console.log,\r\n    consoleGroup,\r\n    consoleGroupEnd,\r\n    logOnDifferentValues: false,\r\n    trackHooks: true,\r\n    titleColor: '#058',\r\n    diffNameColor: 'blue',\r\n    diffPathColor: 'red',\r\n    trackExtraHooks: [],\r\n    trackAllPureComponents: false,\r\n    ...userOptions\r\n  }\r\n}\r\n","import {isString} from 'lodash'\r\n\r\nexport default function getDisplayName(type){\r\n  return (\r\n    type.displayName ||\r\n    type.name ||\r\n    (type.type && getDisplayName(type.type)) ||\r\n    (type.render && getDisplayName(type.render)) ||\r\n    (isString(type) ? type : undefined)\r\n  )\r\n}\r\n","import {isArray, isPlainObject, isDate, isRegExp, isFunction, keys as getKeys, has} from 'lodash'\r\nimport {diffTypes} from './consts'\r\n\r\nconst hasElementType = typeof Element !== 'undefined'\r\n\r\n// copied from https://github.com/facebook/react/packages/shared/ReactSymbols.js\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for\r\nconst REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7\r\nconst isReactElement = object => object.$$typeof === REACT_ELEMENT_TYPE\r\n// end\r\n\r\nfunction trackDiff(a, b, diffsAccumulator, pathString, diffType){\r\n  diffsAccumulator.push({\r\n    diffType,\r\n    pathString,\r\n    prevValue: a,\r\n    nextValue: b\r\n  })\r\n  return diffType !== diffTypes.different\r\n}\r\n\r\nfunction accumulateDeepEqualDiffs(a, b, diffsAccumulator, pathString = ''){\r\n  if(a === b){\r\n    return true\r\n  }\r\n\r\n  if(!a || !b){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isArray(a) && isArray(b)){\r\n    const length = a.length\r\n    if(length !== b.length){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    let allChildrenDeepEqual = true\r\n    for(let i = length; i-- !== 0;){\r\n      if(!accumulateDeepEqualDiffs(a[i], b[i], diffsAccumulator, `${pathString}[${i}]`)){\r\n        allChildrenDeepEqual = false\r\n      }\r\n    }\r\n\r\n    return allChildrenDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.deepEquals) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isDate(a) && isDate(b)){\r\n    return a.getTime() === b.getTime() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.date) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isRegExp(a) && isRegExp(b)){\r\n    return a.toString() === b.toString() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.regex) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(hasElementType && a instanceof Element && b instanceof Element){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isReactElement(a) && isReactElement(b)){\r\n    if(a.type !== b.type){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    else{\r\n      const reactElementPropsAreDeepEqual =\r\n        accumulateDeepEqualDiffs(a.props, b.props, diffsAccumulator, `${pathString}.props`)\r\n\r\n      return reactElementPropsAreDeepEqual ?\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.reactElement) :\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n  }\r\n\r\n  if(isFunction(a) && isFunction(b)){\r\n    return a.name === b.name ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.function) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isPlainObject(a) && isPlainObject(b)){\r\n    const keys = getKeys(a)\r\n    const length = keys.length\r\n    if(length !== getKeys(b).length){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    for(let i = length; i-- !== 0;){\r\n      if(!has(b, keys[i])){\r\n        return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n      }\r\n    }\r\n\r\n    let allChildrenDeepEqual = true\r\n    for(let i = length; i-- !== 0;){\r\n      const key = keys[i]\r\n      if(!accumulateDeepEqualDiffs(a[key], b[key], diffsAccumulator, `${pathString}.${key}`)){\r\n        allChildrenDeepEqual = false\r\n      }\r\n    }\r\n\r\n    return allChildrenDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.deepEquals) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n}\r\n\r\nexport default function calculateDeepEqualDiffs(a, b, initialPathString){\r\n  try{\r\n    const diffs = []\r\n    accumulateDeepEqualDiffs(a, b, diffs, initialPathString)\r\n    return diffs\r\n  }catch(error){\r\n    if((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)){\r\n      // warn on circular references, don't crash.\r\n      // browsers throw different errors name and messages:\r\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\r\n      // firefox: \"InternalError\", too much recursion\"\r\n      // edge: \"Error\", \"Out of stack space\"\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Warning: why-did-you-render couldn\\'t handle circular references in props.', error.name, error.message)\r\n      return false\r\n    }\r\n    throw error\r\n  }\r\n}\r\n","import {reduce} from 'lodash'\r\nimport calculateDeepEqualDiffs from './calculateDeepEqualDiffs'\r\n\r\nconst emptyObject = {}\r\n\r\nexport default function findObjectsDifferences(userPrevObj, userNextObj, {shallow = true} = {}){\r\n  if(userPrevObj === userNextObj){\r\n    return false\r\n  }\r\n\r\n  if(!shallow){\r\n    return calculateDeepEqualDiffs(userPrevObj, userNextObj)\r\n  }\r\n\r\n  const prevObj = userPrevObj || emptyObject\r\n  const nextObj = userNextObj || emptyObject\r\n\r\n  const keysOfBothObjects = Object.keys({...prevObj, ...nextObj})\r\n\r\n  return reduce(keysOfBothObjects, (result, key) => {\r\n    const deepEqualDiffs = calculateDeepEqualDiffs(prevObj[key], nextObj[key], key)\r\n    if(deepEqualDiffs){\r\n      result = [\r\n        ...result,\r\n        ...deepEqualDiffs\r\n      ]\r\n    }\r\n    return result\r\n  }, [])\r\n}\r\n","import findObjectsDifferences from './findObjectsDifferences'\r\n\r\nfunction getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook){\r\n  return {\r\n    propsDifferences: findObjectsDifferences(prevProps, nextProps),\r\n    stateDifferences: findObjectsDifferences(prevState, nextState),\r\n    hookDifferences: findObjectsDifferences(prevHook, nextHook, {shallow: false})\r\n  }\r\n}\r\n\r\nexport default function getUpdateInfo({Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook, options}){\r\n  return {\r\n    Component,\r\n    displayName,\r\n    hookName,\r\n    prevProps,\r\n    prevState,\r\n    prevHook,\r\n    nextProps,\r\n    nextState,\r\n    nextHook,\r\n    options,\r\n    reason: getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook)\r\n  }\r\n}\r\n","// copied from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactTypeOfMode.js\r\nimport {REACT_FORWARD_REF_TYPE, REACT_MEMO_TYPE} from './consts'\r\n\r\nconst StrictMode = 0b0001\r\n\r\n// based on \"findStrictRoot\" from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactStrictModeWarnings.js\r\n// notice: this is only used for class components. functional components doesn't re-rendered inside strict mode\r\nexport function checkIfInsideAStrictModeTree(reactComponentInstance){\r\n  let reactInternalFiber = reactComponentInstance && reactComponentInstance._reactInternalFiber\r\n  while(reactInternalFiber){\r\n    if(reactInternalFiber.mode & StrictMode){\r\n      return true\r\n    }\r\n    reactInternalFiber = reactInternalFiber.return\r\n  }\r\n  return false\r\n}\r\n\r\nexport function isReactClassComponent(Component){\r\n  return Component.prototype && !!Component.prototype.isReactComponent\r\n}\r\n\r\nexport function isMemoComponent(Component){\r\n  return Component.$$typeof === REACT_MEMO_TYPE\r\n}\r\n\r\nexport function isForwardRefComponent(Component){\r\n  return Component.$$typeof === REACT_FORWARD_REF_TYPE\r\n}\r\n","import {isMemoComponent} from './utils'\r\n\r\nfunction shouldInclude(displayName, options){\r\n  return (\r\n    options.include &&\r\n    options.include.length > 0 &&\r\n    options.include.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nfunction shouldExclude(displayName, options){\r\n  return (\r\n    options.exclude &&\r\n    options.exclude.length > 0 &&\r\n    options.exclude.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nexport default function shouldTrack({Component, displayName, options, React, isHookChange}){\r\n  if(shouldExclude(displayName, options)){\r\n    return false\r\n  }\r\n\r\n  if(Component.whyDidYouRender === false){\r\n    return false\r\n  }\r\n\r\n  if(isHookChange && (\r\n    Component.whyDidYouRender && Component.whyDidYouRender.trackHooks === false\r\n  )){\r\n    return false\r\n  }\r\n\r\n  return !!(\r\n    Component.whyDidYouRender || (\r\n      options.trackAllPureComponents && (\r\n        (Component && Component.prototype instanceof React.PureComponent) ||\r\n        isMemoComponent(Component)\r\n      )\r\n    ) ||\r\n    shouldInclude(displayName, options)\r\n  )\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport {checkIfInsideAStrictModeTree} from '../utils'\r\nimport getUpdateInfo from '../getUpdateInfo'\r\n\r\nexport default function patchClassComponent(ClassComponent, displayName, React, options){\r\n  class WDYRPatchedClassComponent extends ClassComponent{\r\n    constructor(props, context){\r\n      super(props, context)\r\n\r\n      this._WDYR = {\r\n        renderNumber: 0\r\n      }\r\n\r\n      const origRender = super.render || this.render\r\n      // this probably means render is an arrow function or this.render.bind(this) was called on the original class\r\n      const renderIsABindedFunction = origRender !== ClassComponent.prototype.render\r\n      if(renderIsABindedFunction){\r\n        this.render = () => {\r\n          WDYRPatchedClassComponent.prototype.render.apply(this)\r\n          return origRender()\r\n        }\r\n      }\r\n    }\r\n    render(){\r\n      this._WDYR.renderNumber++\r\n\r\n      if(!('isStrictMode' in this._WDYR)){\r\n        this._WDYR.isStrictMode = checkIfInsideAStrictModeTree(this)\r\n      }\r\n\r\n      // in strict mode- ignore every other render\r\n      if(!(this._WDYR.isStrictMode && this._WDYR.renderNumber % 2 === 1)){\r\n        if(this._WDYR.prevProps){\r\n          options.notifier(getUpdateInfo({\r\n            Component: ClassComponent,\r\n            displayName,\r\n            prevProps: this._WDYR.prevProps,\r\n            prevState: this._WDYR.prevState,\r\n            nextProps: this.props,\r\n            nextState: this.state,\r\n            options\r\n          }))\r\n        }\r\n\r\n        this._WDYR.prevProps = this.props\r\n        this._WDYR.prevState = this.state\r\n      }\r\n\r\n      return super.render ? super.render() : null\r\n    }\r\n  }\r\n\r\n  WDYRPatchedClassComponent.displayName = displayName\r\n  defaults(WDYRPatchedClassComponent, ClassComponent)\r\n\r\n  return WDYRPatchedClassComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport getUpdateInfo from '../getUpdateInfo'\r\n\r\nconst getFunctionalComponentFromStringComponent = (componentTypeStr, React) => props => (\r\n  React.createElement(componentTypeStr, props)\r\n)\r\n\r\nexport default function patchFunctionalOrStrComponent(FunctionalOrStringComponent, isPure, displayName, React, options){\r\n  const FunctionalComponent = typeof(FunctionalOrStringComponent) === 'string' ?\r\n    getFunctionalComponentFromStringComponent(FunctionalOrStringComponent, React) :\r\n    FunctionalOrStringComponent\r\n\r\n  function WDYRFunctionalComponent(){\r\n    const nextProps = arguments[0]\r\n    const ref = React.useRef()\r\n\r\n    const prevProps = ref.current\r\n    ref.current = nextProps\r\n\r\n    if(prevProps){\r\n      const updateInfo = getUpdateInfo({\r\n        Component: FunctionalComponent,\r\n        displayName,\r\n        prevProps,\r\n        nextProps,\r\n        options\r\n      })\r\n\r\n      const shouldNotify = (\r\n        updateInfo.reason.propsDifferences && (\r\n          !(isPure && updateInfo.reason.propsDifferences.length === 0)\r\n        )\r\n      )\r\n\r\n      if(shouldNotify){\r\n        options.notifier(updateInfo)\r\n      }\r\n    }\r\n\r\n    return FunctionalComponent(...arguments)\r\n  }\r\n\r\n  WDYRFunctionalComponent.displayName = displayName\r\n  WDYRFunctionalComponent.ComponentForHooksTracking = FunctionalComponent\r\n  defaults(WDYRFunctionalComponent, FunctionalComponent)\r\n\r\n  return WDYRFunctionalComponent\r\n}\r\n","import {get} from 'lodash'\r\n\r\nimport normalizeOptions from './normalizeOptions'\r\nimport getDisplayName from './getDisplayName'\r\nimport getUpdateInfo from './getUpdateInfo'\r\nimport shouldTrack from './shouldTrack'\r\n\r\nimport patchClassComponent from './patches/patchClassComponent'\r\nimport patchFunctionalOrStrComponent from './patches/patchFunctionalOrStrComponent'\r\nimport patchMemoComponent from './patches/patchMemoComponent'\r\nimport patchForwardRefComponent from './patches/patchForwardRefComponent'\r\n\r\nimport {isForwardRefComponent, isMemoComponent, isReactClassComponent} from './utils'\r\n\r\nfunction trackHookChanges(hookName, {path: hookPath}, hookResult, React, options){\r\n  const ComponentHookDispatchedFromInstance = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current\r\n  const prevHookResultRef = React.useRef()\r\n\r\n  if(!ComponentHookDispatchedFromInstance){\r\n    return hookResult\r\n  }\r\n\r\n  const Component = ComponentHookDispatchedFromInstance.type.ComponentForHooksTracking || ComponentHookDispatchedFromInstance.type\r\n  const displayName = getDisplayName(Component)\r\n\r\n  const isShouldTrack = shouldTrack({Component, displayName, options, React, isHookChange: true})\r\n  if(!isShouldTrack){\r\n    return hookResult\r\n  }\r\n\r\n  const prevHookResult = prevHookResultRef.current\r\n  prevHookResultRef.current = hookResult\r\n\r\n  if(prevHookResult){\r\n    const notification = getUpdateInfo({\r\n      Component: Component,\r\n      displayName,\r\n      hookName,\r\n      prevHook: hookPath ? get(prevHookResult, hookPath) : prevHookResult,\r\n      nextHook: hookPath ? get(hookResult, hookPath) : hookResult,\r\n      options\r\n    })\r\n\r\n    if(notification.reason.hookDifferences){\r\n      options.notifier(notification)\r\n    }\r\n  }\r\n\r\n  return hookResult\r\n}\r\n\r\nfunction createPatchedComponent(componentsMap, Component, displayName, React, options){\r\n  if(isMemoComponent(Component)){\r\n    return patchMemoComponent(Component, displayName, React, options)\r\n  }\r\n\r\n  if(isForwardRefComponent(Component)){\r\n    return patchForwardRefComponent(Component, displayName, React, options)\r\n  }\r\n\r\n  if(isReactClassComponent(Component)){\r\n    return patchClassComponent(Component, displayName, React, options)\r\n  }\r\n\r\n  return patchFunctionalOrStrComponent(Component, false, displayName, React, options)\r\n}\r\n\r\nfunction getPatchedComponent(componentsMap, Component, displayName, React, options){\r\n  if(componentsMap.has(Component)){\r\n    return componentsMap.get(Component)\r\n  }\r\n\r\n  const WDYRPatchedComponent = createPatchedComponent(componentsMap, Component, displayName, React, options)\r\n\r\n  componentsMap.set(Component, WDYRPatchedComponent)\r\n  return WDYRPatchedComponent\r\n}\r\n\r\nexport const hooksConfig = {\r\n  useState: {path: '0'},\r\n  useReducer: {path: '0'},\r\n  useContext: true,\r\n  useMemo: true\r\n}\r\n\r\nexport default function whyDidYouRender(React, userOptions){\r\n  const options = normalizeOptions(userOptions)\r\n\r\n  const origCreateElement = React.createElement\r\n  const origCreateFactory = React.createFactory\r\n\r\n  let componentsMap = new WeakMap()\r\n\r\n  React.createElement = function(componentNameOrComponent, ...rest){\r\n    let isShouldTrack = null\r\n    let displayName = null\r\n    let WDYRPatchedComponent = null\r\n\r\n    try{\r\n      isShouldTrack = (\r\n        (\r\n          typeof componentNameOrComponent === 'function' ||\r\n          isMemoComponent(componentNameOrComponent) ||\r\n          isForwardRefComponent(componentNameOrComponent)\r\n        ) &&\r\n        shouldTrack({Component: componentNameOrComponent, displayName: getDisplayName(componentNameOrComponent), React, options})\r\n      )\r\n\r\n      if(isShouldTrack){\r\n        displayName = (\r\n          componentNameOrComponent &&\r\n          componentNameOrComponent.whyDidYouRender &&\r\n          componentNameOrComponent.whyDidYouRender.customName ||\r\n          getDisplayName(componentNameOrComponent)\r\n        )\r\n\r\n        WDYRPatchedComponent = getPatchedComponent(componentsMap, componentNameOrComponent, displayName, React, options)\r\n        return origCreateElement.apply(React, [WDYRPatchedComponent, ...rest])\r\n      }\r\n    }\r\n    catch(e){\r\n      options.consoleLog('whyDidYouRender error. Please file a bug at https://github.com/welldone-software/why-did-you-render/issues.', {\r\n        errorInfo: {\r\n          error: e,\r\n          componentNameOrComponent,\r\n          rest,\r\n          options,\r\n          isShouldTrack,\r\n          displayName,\r\n          WDYRPatchedComponent\r\n        }\r\n      })\r\n    }\r\n\r\n    return origCreateElement.apply(React, [componentNameOrComponent, ...rest])\r\n  }\r\n\r\n  Object.assign(React.createElement, origCreateElement)\r\n\r\n  React.createFactory = type => {\r\n    const factory = React.createElement.bind(null, type)\r\n    factory.type = type\r\n    return factory\r\n  }\r\n\r\n  Object.assign(React.createFactory, origCreateFactory)\r\n\r\n  if(options.trackHooks){\r\n    const nativeHooks = Object.entries(hooksConfig).map(([hookName, hookTrackingConfig]) => {\r\n      return [React, hookName, hookTrackingConfig]\r\n    })\r\n\r\n    const hooksToTrack = [\r\n      ...nativeHooks,\r\n      ...options.trackExtraHooks\r\n    ]\r\n\r\n    hooksToTrack.forEach(([hookParent, hookName, hookTrackingConfig = {}]) => {\r\n      const originalHook = hookParent[hookName]\r\n      const newHookName = hookName[0].toUpperCase() + hookName.slice(1)\r\n      const newHook = function(...args){\r\n        const hookResult = originalHook.call(this, ...args)\r\n        trackHookChanges(hookName, hookTrackingConfig, hookResult, React, options)\r\n        return hookResult\r\n      }\r\n      Object.defineProperty(newHook, 'name', {value: newHookName, writable: false})\r\n      Object.assign(newHook, {originalHook})\r\n      hookParent[hookName] = newHook\r\n    })\r\n  }\r\n\r\n  React.__REVERT_WHY_DID_YOU_RENDER__ = () => {\r\n    Object.assign(React, {\r\n      createElement: origCreateElement,\r\n      createFactory: origCreateFactory\r\n    })\r\n\r\n    componentsMap = null\r\n\r\n    const hooksToRevert = [\r\n      ...Object.keys(hooksConfig).map(hookName => [React, hookName]),\r\n      ...options.trackExtraHooks\r\n    ]\r\n    hooksToRevert.forEach(([hookParent, hookName]) => {\r\n      if(hookParent[hookName].originalHook){\r\n        hookParent[hookName] = hookParent[hookName].originalHook\r\n      }\r\n    })\r\n\r\n    delete React.__REVERT_WHY_DID_YOU_RENDER__\r\n  }\r\n\r\n  return React\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport getDisplayName from '../getDisplayName'\r\n\r\nimport {isForwardRefComponent, isReactClassComponent} from '../utils'\r\nimport patchClassComponent from './patchClassComponent'\r\nimport patchFunctionalOrStrComponent from './patchFunctionalOrStrComponent'\r\n\r\nexport default function patchMemoComponent(MemoComponent, displayName, React, options){\r\n  const {type: InnerMemoComponent} = MemoComponent\r\n\r\n  const isInnerMemoComponentAClassComponent = isReactClassComponent(InnerMemoComponent)\r\n  const isInnerMemoComponentForwardRefs = isForwardRefComponent(InnerMemoComponent)\r\n\r\n  const WrappedFunctionalComponent = isInnerMemoComponentForwardRefs ?\r\n    InnerMemoComponent.render :\r\n    InnerMemoComponent\r\n\r\n  const PatchedInnerComponent = isInnerMemoComponentAClassComponent ?\r\n    patchClassComponent(WrappedFunctionalComponent, displayName, React, options) :\r\n    patchFunctionalOrStrComponent(WrappedFunctionalComponent, true, displayName, React, options)\r\n\r\n  PatchedInnerComponent.displayName = getDisplayName(WrappedFunctionalComponent)\r\n  PatchedInnerComponent.ComponentForHooksTracking = MemoComponent\r\n  defaults(PatchedInnerComponent, WrappedFunctionalComponent)\r\n\r\n  const WDYRMemoizedFunctionalComponent = React.memo(\r\n    isInnerMemoComponentForwardRefs ? React.forwardRef(PatchedInnerComponent) : PatchedInnerComponent,\r\n    MemoComponent.compare\r\n  )\r\n\r\n  WDYRMemoizedFunctionalComponent.displayName = displayName\r\n  defaults(WDYRMemoizedFunctionalComponent, MemoComponent)\r\n\r\n  return WDYRMemoizedFunctionalComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport getDisplayName from '../getDisplayName'\r\nimport {isMemoComponent} from '../utils'\r\nimport patchFunctionalOrStrComponent from './patchFunctionalOrStrComponent'\r\n\r\nexport default function patchForwardRefComponent(ForwardRefComponent, displayName, React, options){\r\n  const {render: InnerForwardRefComponent} = ForwardRefComponent\r\n\r\n  const isInnerComponentMemoized = isMemoComponent(InnerForwardRefComponent)\r\n  const WrappedFunctionalComponent = isInnerComponentMemoized ?\r\n    InnerForwardRefComponent.type : InnerForwardRefComponent\r\n\r\n  const WDYRWrappedByReactForwardRefFunctionalComponent = (\r\n    patchFunctionalOrStrComponent(WrappedFunctionalComponent, isInnerComponentMemoized, displayName, React, options)\r\n  )\r\n\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.displayName = getDisplayName(WrappedFunctionalComponent)\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.ComponentForHooksTracking = WrappedFunctionalComponent\r\n  defaults(WDYRWrappedByReactForwardRefFunctionalComponent, WrappedFunctionalComponent)\r\n\r\n  const WDYRForwardRefFunctionalComponent = React.forwardRef(\r\n    isInnerComponentMemoized ?\r\n      React.memo(WDYRWrappedByReactForwardRefFunctionalComponent, InnerForwardRefComponent.compare) :\r\n      WDYRWrappedByReactForwardRefFunctionalComponent\r\n  )\r\n\r\n  WDYRForwardRefFunctionalComponent.displayName = displayName\r\n  defaults(WDYRForwardRefFunctionalComponent, ForwardRefComponent)\r\n\r\n  return WDYRForwardRefFunctionalComponent\r\n}\r\n","import whyDidYouRender from './whyDidYouRender'\r\nimport defaultNotifier from './defaultNotifier'\r\n\r\nwhyDidYouRender.defaultNotifier = defaultNotifier\r\nexport default whyDidYouRender\r\n"],"names":["diffTypes","hasSymbol","Symbol","REACT_MEMO_TYPE","REACT_FORWARD_REF_TYPE","moreInfoUrl","moreInfoHooksUrl","diffTypesDescriptions","different","deepEquals","date","regex","reactElement","inHotReload","logDifference","Component","displayName","hookName","prefixMessage","diffObjType","differences","values","options","length","consoleLog","forEach","pathString","diffType","prevValue","nextValue","consoleGroup","diffNameColor","diffPathColor","consoleGroupEnd","prev","next","defaultNotifier","updateInfo","prevProps","prevState","prevHook","nextProps","nextState","nextHook","reason","logOnDifferentValues","whyDidYouRender","propsDifferences","some","diff","stateDifferences","hookDifferences","shouldLog","titleColor","emptyFn","normalizeOptions","hotReloadBufferMs","userOptions","console","group","groupEnd","collapseGroups","groupCollapsed","onlyLogs","log","include","exclude","notifier","module","hot","addStatusHandler","status","setTimeout","trackHooks","trackExtraHooks","trackAllPureComponents","getDisplayName","type","name","render","_isString","undefined","hasElementType","Element","REACT_ELEMENT_TYPE","isReactElement","object","$$typeof","trackDiff","a","b","diffsAccumulator","push","calculateDeepEqualDiffs","initialPathString","diffs","accumulateDeepEqualDiffs","_isArray","allChildrenDeepEqual","i","_isDate","getTime","_isRegExp","toString","props","_isFunction","_isPlainObject","keys","_keys","_has","key","error","message","match","number","warn","emptyObject","findObjectsDifferences","userPrevObj","userNextObj","shallow","prevObj","nextObj","keysOfBothObjects","Object","_reduce","result","deepEqualDiffs","getUpdateReason","getUpdateInfo","StrictMode","isReactClassComponent","prototype","isReactComponent","isMemoComponent","isForwardRefComponent","shouldTrack","React","isHookChange","test","shouldExclude","PureComponent","shouldInclude","patchClassComponent","ClassComponent","WDYRPatchedClassComponent","context","_WDYR","renderNumber","origRender","_get","_this","apply","this","isStrictMode","reactComponentInstance","reactInternalFiber","_reactInternalFiber","mode","checkIfInsideAStrictModeTree","state","getFunctionalComponentFromStringComponent","componentTypeStr","createElement","patchFunctionalOrStrComponent","FunctionalOrStringComponent","isPure","FunctionalComponent","WDYRFunctionalComponent","arguments","ref","useRef","current","ComponentForHooksTracking","trackHookChanges","hookResult","hookPath","path","ComponentHookDispatchedFromInstance","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","prevHookResultRef","prevHookResult","notification","createPatchedComponent","componentsMap","MemoComponent","InnerMemoComponent","isInnerMemoComponentAClassComponent","isInnerMemoComponentForwardRefs","WrappedFunctionalComponent","PatchedInnerComponent","WDYRMemoizedFunctionalComponent","memo","forwardRef","compare","patchMemoComponent","ForwardRefComponent","InnerForwardRefComponent","isInnerComponentMemoized","WDYRWrappedByReactForwardRefFunctionalComponent","WDYRForwardRefFunctionalComponent","patchForwardRefComponent","getPatchedComponent","has","get","WDYRPatchedComponent","set","hooksConfig","useState","useReducer","useContext","useMemo","origCreateElement","origCreateFactory","createFactory","WeakMap","componentNameOrComponent","isShouldTrack","rest","customName","e","errorInfo","assign","factory","bind","nativeHooks","entries","map","hookTrackingConfig","hookParent","originalHook","newHookName","toUpperCase","slice","newHook","args","call","defineProperty","value","writable","__REVERT_WHY_DID_YOU_RENDER__"],"mappings":"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"}